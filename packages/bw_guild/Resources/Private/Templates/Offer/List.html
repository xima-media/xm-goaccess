<h1>{offers->f:count()} Angebote</h1>

<div class="orders__search">
	<f:form action="list" name="demand" controller="Offer" object="{demand}">

		<label> In Umgebung von
			<f:form.textfield property="searchDistanceAddress"/>
			<f:form.textfield property="maxDistance"/>
			km </label>

		<button type="submit" class="button hollow small">
			<span>Ansicht aktualisieren</span>
			<span class="icon-refresh"></span>
		</button>
	</f:form>
</div>

<div class="orders orders--list">
	<f:for each="{offers}" as="offer">
		<f:for each="{offers}" as="offer">
			{namespace bw=Blueways\BwGuild\ViewHelpers}
			<div class="orders__item card card__content">
				<h3>{offer.title}</h3>
				<p>
					<f:format.crop maxCharacters="100">{offer.description->f:format.stripTags()}</f:format.crop>
					<br/>
					<f:link.action pageUid="{settings.showOfferPid}" action="show" controller="Offer" arguments="{offer: offer.uid}">
						Show offer
					</f:link.action>
					<f:if condition="{bw:isEditable(offer: offer)} && {settings.editPid}}">
						<br/>
						<f:link.action pageUid="{settings.editPid}"
									   action="edit"
									   controller="Offer"
									   arguments="{offer: offer.uid}">Edit offer
						</f:link.action>
						<br/>
						<f:link.action pageUid="{settings.editPid}"
									   action="delete"
									   controller="Offer"
									   arguments="{offer: offer.uid}">Delete offer
						</f:link.action>
					</f:if>
				</p>
			</div>
		</f:for>
	</f:for>
</div>
