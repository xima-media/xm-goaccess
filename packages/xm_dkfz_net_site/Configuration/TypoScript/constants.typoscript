// dependencies
@import 'EXT:fluid_styled_content/Configuration/TypoScript/constants.typoscript'
@import 'EXT:xm_dkfz_net_events/Configuration/TypoScript/constants.typoscript'
@import 'EXT:oauth2_client/Configuration/TypoScript/constants.typoscript'
@import 'EXT:bw_guild/Configuration/TypoScript/constants.typoscript'
@import 'EXT:news/Configuration/TypoScript/constants.typoscript'

// own
page {
  title = DKFZ Intranet

  meta {
    apple-mobile-web-app-capable =
    description =
    author =
    keywords =
  }
}

// PIDs
pidJobList = 25
pidLogin = 2
pidFeUserStorage = 91
pidNewsDetail = 102
pidNewsStorage = 101
pidUserDetail = 103

##############################
#### FLUID STYLED CONTENT ####
##############################
styles {
  templates {
    layoutRootPath = EXT:xm_dkfz_net_site/Resources/Private/Extensions/fluid_styled_content/Layouts/
    partialRootPath = EXT:xm_dkfz_net_site/Resources/Private/Extensions/fluid_styled_content/Partials/
    templateRootPath = EXT:xm_dkfz_net_site/Resources/Private/Extensions/fluid_styled_content/Templates/
  }
}

###################
#### DKFZ Jobs ####
###################
plugin.tx_xmdkfznetjobs {
  settings {
    pidJobDetail =
    pidJobList = {$pidJobList}
    latestJobCount = 3
  }
}

#####################
#### DKFZ Events ####
#####################
plugin.tx_xmdkfznetevents {
  settings {
    latestEventCount = 9
  }
}

##############
#### News ####
##############
plugin.tx_news {
  settings {
    startingpoint = {$pidNewsStorage}
    recursive = 1
    cssFile >
    displayDummyIfNoMedia >
  }

  view {
    layoutRootPath = EXT:xm_dkfz_net_site/Resources/Private/Extensions/news/Layouts/
    partialRootPath = EXT:xm_dkfz_net_site/Resources/Private/Extensions/news/Partials/
    templateRootPath = EXT:xm_dkfz_net_site/Resources/Private/Extensions/news/Templates/
  }
}


##################
#### Bw_guild ####
##################
plugin {
  tx_bwguild {
    view {
      layoutRootPath = EXT:xm_dkfz_net_site/Resources/Private/Extensions/bw_guild/Layouts/
      partialRootPath = EXT:xm_dkfz_net_site/Resources/Private/Extensions/bw_guild/Partials/
      templateRootPath = EXT:xm_dkfz_net_site/Resources/Private/Extensions/bw_guild/Templates/
    }
    settings {
      showPid = {$pidUserDetail}
    }
    persistence.storagePid = {$pidFeUserStorage}
  }

  tx_bwguild_userlist {
    settings {
      schema.enable = 0
    }
  }
}
