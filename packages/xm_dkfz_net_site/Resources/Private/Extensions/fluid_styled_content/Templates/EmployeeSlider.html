<f:layout name="Default" />

<f:section name="Main">
	<div class="carousel carousel--color-primary carousel__content-teaser"
		 data-cols="{&quot;xs&quot;: &quot;1&quot;, &quot;sm&quot;: &quot;2&quot;, &quot;md&quot;: &quot;3&quot;, &quot;lg&quot;: &quot;4&quot;}"
		 data-pagination-style="{&quot;xs&quot;: &quot;fraction&quot;, &quot;sm&quot;: &quot;bullets&quot;, &quot;md&quot;: &quot;bullets&quot;, &quot;lg&quot;: &quot;bullets&quot;}"
		 data-pagination-colored="false"
		 data-count="{users->f:count()}">
		<div class="carousel__content swiper">
			<div class="carousel__body swiper-wrapper">
				<f:for each="{users}" as="user" iteration="i">
					<div class="swiper-slide {f:if(condition: i.isFirst, then: 'swiper-slide-active')} {f:if(condition: '{i.cycle} == 2', then: 'swiper-slide-next')}">
						<div class="card card--image-top card--md card--image-size-md">
							<f:link.action action="show"
										   class="card__link card__link--hidden"
										   pageUid="{pidUserDetail}"
										   pluginName="Usershow"
										   controller="User"
										   arguments="{user: user.data.uid}">
							</f:link.action>
							<div class="card__image">
								<f:if condition="{user.logo.0}">
									<f:then>
										<picture>
											<source srcset="{f:uri.image(image:user.logo.0, width:'150', fileExtension: 'webp')}"
													type="image/webp">
											<source srcset="{f:uri.image(image:user.logo.0, width:'150', fileExtension: 'jpg')}"
													type="image/jpeg">
											<img src="{f:uri.image(image:user.logo.0, width:'150', fileExtension: 'jpg')}"
												 alt="{user.logo.0.alternative}"
												 class="picture__image image--responsive"
												 loading="lazy"/>
										</picture>
									</f:then>
									<f:else>
										<img width="150"
											 src="{f:uri.resource(path: 'EXT:xm_dkfz_net_site/Resources/Public/Images/frontend_user_default.svg')}"
											 alt="No profile picture"/>
									</f:else>
								</f:if>
							</div>
							<div class="card__content">
								<div class="card__header">
									<h3 class="h5 card__title">{user.data.last_name},&nbsp;{user.data.first_name}</h3>
								</div>
								<div class="card__body">
									<div class="card__text">
										<a href="mailto:{user.data.email}">{user.data.email}</a>
									</div>
								</div>
								<div class="card__contact">
									<f:for each="{user.contacts}" as="contact">
										<f:if condition="{contact.data.recordType} == 0">
											<f:if condition="{contact.data.function}">
												<p class="contact__item">
													{contact.data.function}
												</p>
											</f:if>
											<p class="contact__item">
												<a href="tel:{contact.data.number}">{contact.data.number}</a>
											</p>
										</f:if>
									</f:for>
								</div>
							</div>
						</div>
					</div>
				</f:for>
			</div>
		</div>
		<div class="carousel__pagination swiper-pagination"></div>

		<button class="carousel__button swiper-button-prev" aria-label="ZurÃ¼ck">
			<svg class="icon icon--chevron-left icon--size-md" role="img" width="20" height="20" aria-hidden="true">
				<use xlink:href="{f:uri.resource(path: 'EXT:xm_dkfz_net_prototype/Resources/Public/Icon/icon.min.svg#icon-chevron-left')}"></use>
			</svg>
		</button>
		<button class="carousel__button swiper-button-next" aria-label="Vor">
			<svg class="icon icon--chevron-right icon--size-md" role="img" width="20" height="20" aria-hidden="true">
				<use xlink:href="{f:uri.resource(path: 'EXT:xm_dkfz_net_prototype/Resources/Public/Icon/icon.min.svg#icon-chevron-right')}"></use>
			</svg>
		</button>
	</div>
</f:section>
