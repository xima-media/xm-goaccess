<f:layout name="Default"/>
<f:section name="Header">
	<div class="content-wrapper__header">
		<f:render partial="Header/Header" arguments="{
                header: data.header,
                layout: data.header_layout,
				positionClass: 'm-b-0{positionClass}',
                default: settings.defaultHeaderType}"/>
		<span class="content-wrapper__pattern pattern color-accent--gray-900 h2"></span>
	</div>
</f:section>

<f:section name="Main">
	<div class="carousel carousel--color-primary carousel__content-teaser"
		 data-cols="{&quot;xs&quot;: &quot;1&quot;, &quot;sm&quot;: &quot;2&quot;, &quot;md&quot;: &quot;3&quot;, &quot;lg&quot;: &quot;4&quot;}"
		 data-pagination-style="{&quot;xs&quot;: &quot;fraction&quot;, &quot;sm&quot;: &quot;bullets&quot;, &quot;md&quot;: &quot;bullets&quot;, &quot;lg&quot;: &quot;bullets&quot;}"
		 data-pagination-colored="false"
		 data-count="{users -> f:count()}">
		<div class="carousel__content swiper">
			<div class="carousel__body swiper-wrapper">
				<f:for each="{users}" as="user" iteration="i">
					<div class="swiper-slide {f:if(condition: i.isFirst, then: 'swiper-slide-active')} {f:if(condition: '{i.cycle} == 2', then: 'swiper-slide-next')}">
						<div class="card card--image-top card--md card--image-size-xs card--employee">
							<div class="card__image">
								<figure class="picture picture--with-image picture--with-color picture--orientation-xs-" data-color="primary" data-pattern-color="transparent">
									<div class="picture__item image-color--primary">
										<f:if condition="{user.logo.0}">
											<f:then>
												<picture>
													<source srcset="{f:uri.image(image:user.logo.0, width:'150', fileExtension: 'webp')}"
															type="image/webp">
													<source srcset="{f:uri.image(image:user.logo.0, width:'150', fileExtension: 'jpg')}"
															type="image/jpeg">
													<img src="{f:uri.image(image:user.logo.0, width:'150', fileExtension: 'jpg')}"
														 alt="{user.logo.0.alternative}"
														 class="picture__image image--responsive"
														 loading="lazy"/>
												</picture>
											</f:then>
											<f:else>
												<img width="150" class="picture__image image--responsive"
													 src="{f:uri.resource(path: 'EXT:xm_dkfz_net_site/Resources/Public/Images/frontend_user_default.svg')}"
													 alt="No profile picture"/>
											</f:else>
										</f:if>
									</div>
								</figure>
							</div>
							<div class="card__content">
								<div class="card__header">
									<f:link.action action="show"
												   additionalAttributes="{aria-label: '{user.data.last_name},&nbsp;{user.data.first_name}'}"
												   pageUid="{pidUserDetail}"
												   pluginName="Usershow"
												   controller="User"
												   arguments="{user: user.data.uid}">
										<h3 class="card__title h5">{user.data.last_name},&nbsp;{user.data.first_name}</h3>
									</f:link.action>
								</div>
							</div>
							<div class="card__contact">
								<f:if condition="{user.data.email}">
									<p class="contact__item">
										<f:render partial="Icon" arguments="{icon: 'mail'}"/>
										<f:link.email email="{user.data.email}">{user.data.email}</f:link.email>
									</p>
								</f:if>
								<f:for each="{user.contacts}" as="contact">
									<f:if condition="{contact.data.recordType} == 0">
										<p class="contact__item">
											<f:render partial="Icon" arguments="{icon: 'phone'}"/>
											<a href="tel:{contact.data.number}">{contact.data.number}</a>
										</p>
									</f:if>
								</f:for>
							</div>
						</div>
					</div>
				</f:for>
			</div>
		</div>
		<div class="carousel__pagination swiper-pagination"></div>

		<button class="carousel__button swiper-button-prev" aria-label="ZurÃ¼ck">
			<svg class="icon icon--chevron-left icon--size-md" role="img" width="20" height="20" aria-hidden="true">
				<use xlink:href="{f:uri.resource(path: 'EXT:xm_dkfz_net_prototype/Resources/Public/Icon/icon.min.svg#icon-chevron-left')}"></use>
			</svg>
		</button>
		<button class="carousel__button swiper-button-next" aria-label="Vor">
			<svg class="icon icon--chevron-right icon--size-md" role="img" width="20" height="20" aria-hidden="true">
				<use xlink:href="{f:uri.resource(path: 'EXT:xm_dkfz_net_prototype/Resources/Public/Icon/icon.min.svg#icon-chevron-right')}"></use>
			</svg>
		</button>
	</div>
</f:section>
