<f:layout name="Default"/>


<f:section name="Main">
	<f:spaceless>
		<f:if condition="{data.bodytext}">
			<f:format.html>{data.bodytext}</f:format.html>
		</f:if>

		<f:if condition="!{users}">
			<div class="callout">
				<div class="infobox color-accent--magenta infobox--background-white">
					<div class="infobox--wrapper">
						<h4 class="infobox__title">No users found</h4>
						<p>You have not selected any user.</p>
					</div>
				</div>
			</div>
		</f:if>

		<f:if condition="{users}">
			<div class="table">
				<div class="show-for-xl">
					<div class="table__header">
						<div></div>
						<div class="label">Name</div>
						<div class="label">
							<f:translate extensionName="XmDkfzNetSite" key="contactData"/>
						</div>
						<div class="label">
							<f:translate extensionName="XmDkfzNetSite" key="user.responsibilities"/>
						</div>
						<div class="label">
							<f:translate extensionName="XmDkfzNetSite" key="user.representative"/>
						</div>
					</div>
				</div>
				<div class="table__body">
					<f:for each="{users}" as="userItem">
						<f:if condition="{userItem.user}">
							<div class="table__row">
								<div class="username">
									<f:link.action action="show"
												   title="{userItem.user.0.displayName}"
												   controller="User"
												   pluginName="Usershow"
												   pageUid="{settings.pidUserDetail}"
												   extensionName="BwGuild"
												   arguments="{user: userItem.user.0.uid}">
										{userItem.user.0.displayName}
									</f:link.action>
								</div>
								<div class="picture">
									<f:link.action action="show"
												   controller="User"
												   title="{userItem.user.0.displayName}"
												   pluginName="Usershow"
												   pageUid="{settings.pidUserDetail}"
												   extensionName="BwGuild"
												   arguments="{user: userItem.user.0.uid}">
										<f:render partial="UserImage" arguments="{user: userItem.user.0, width: 80}"/>
									</f:link.action>
								</div>
								<div class="contact">
									<ul class="list contacts text-small">

										<f:if condition="{userItem.user.0.contactRoom}">
											<li>
												<f:render partial="Icon" arguments="{icon: 'location', width: 14, height: 14}"/>
												{userItem.user.0.contactRoom}
											</li>
										</f:if>

										<f:for each="{userItem.user.0.phoneContacts}" as="contact" iteration="i">
											<li>
												<f:render partial="Icon" arguments="{icon: 'phone', width: 14, height: 14}"/>
												{contact.number}
											</li>
										</f:for>

										<f:for each="{userItem.user.0.faxContacts}" as="contact" iteration="i">
											<li>
												<f:render partial="Icon" arguments="{icon: 'printer', width: 14, height: 14}"/>
												{contact.number}
											</li>
										</f:for>

										<f:if condition="{userItem.user.0.email}">
											<li>
												<f:render partial="Icon" arguments="{icon: 'mail', width: 14, height: 14}"/>
												<f:link.email email="{userItem.user.0.email}">{userItem.user.0.email}</f:link.email>
											</li>
										</f:if>
									</ul>
								</div>
								<div class="responsibilities">
									<p class="label hide-for-xl">
										<f:translate extensionName="XmDkfzNetSite" key="user.responsibilities"/>
									</p>
									<p class="text-small">
										<f:if condition="{userItem.user.0.responsibilities}">
											{userItem.user.0.responsibilities}
										</f:if>
									</p>
								</div>
								<div class="representative">
									<p class="label hide-for-xl">
										<f:translate extensionName="XmDkfzNetSite" key="user.representative"/>
									</p>
									<p class="text-small">
										<f:if condition="{userItem.user.0.representative}">
											<f:link.action action="show"
														   controller="User"
														   pluginName="Usershow"
														   pageUid="{settings.pidUserDetail}"
														   extensionName="BwGuild"
														   arguments="{user: userItem.user.0.representative.uid}">
												{userItem.user.0.representative.displayName}
											</f:link.action>
										</f:if>
									</p>
								</div>
							</div>
						</f:if>
					</f:for>
				</div>
			</div>
		</f:if>
	</f:spaceless>
</f:section>
