<f:layout name="Default"/>

<f:section name="Main">
	<f:for each="{children}" as="teaser" iteration="i">
		<div class="page-teaser color-accent--{teaser.data.color}">
			<div class="page-teaser__image">

				<f:if condition="{teaser.files}">
					<f:for each="{teaser.files}" as="file" iteration="teaserFileIterator">
						<f:render partial="Image" arguments="{image: file, patternStyle: 'color', size: 'sm', noCaption: 1}" />
					</f:for>
				</f:if>

				<f:if condition="!{teaser.files}">
					<f:render partial="Image" arguments="" />
				</f:if>

			</div>
			<div class="page-teaser__content">

				<div>
					<h3 >{teaser.data.title}</h3>
				</div>

				<div class="page-teaser__body">

					<div class="page-teaser__text">
						<p>{teaser.data.text}</p>
					</div>


					<f:if condition="{teaser.links}">
						<f:then>
								<ul class="list">
									<li class="list__link-item">
										<f:link.typolink class="link--primary" parameter="{teaser.data.link}">{f:if(condition: teaser.data.link_title, then: teaser.data.link_title, else: '{f:translate(key: \'link.more\', extensionName: \'XmDkfzNetSite\')}')}</f:link.typolink>
									</li>
									<f:for each="{teaser.links}" as="link" iteration="i">
										<f:if condition="{link.data.uid}">
											<f:render partial="Linklist" arguments="{link: link}" />
										</f:if>
									</f:for>
								</ul>
						</f:then>
						<f:else>
							<f:link.typolink class="page-teaser__link page-teaser__link--more link--primary" parameter="{teaser.data.link}">{f:if(condition: teaser.data.link_title, then: teaser.data.link_title, else: '{f:translate(key: \'link.more\', extensionName: \'XmDkfzNetSite\')}')}</f:link.typolink>
						</f:else>
					</f:if>
				</div>
			</div>
		</div>
	</f:for>
</f:section>
