<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
	  xmlns:dkfz="http://typo3.org/ns/Xima/XmDkfzNetSite/ViewHelpers"
	  data-namespace-typo3-fluid="true">

<f:comment><!--
	Arguments:
	- image (FileInterface)
	- size: sm (default: 970)
--></f:comment>


<f:if condition="{size} == 'sm'">
	<f:then>
		<f:variable name='imageSize' value='440'></f:variable>
	</f:then>
	<f:else>
		<f:variable name='imageSize' value='970'></f:variable>
	</f:else>
</f:if>
<figure>
	<div class="picture__item">
		<span aria-hidden="true" class="picture__pattern pattern"></span>
		<picture>
			<source srcset="{f:uri.image(image:image, width:'{imageSize}', fileExtension: 'webp')}"
					type="image/webp">
			<source srcset="{f:uri.image(image:image, width:'{imageSize}', fileExtension: 'jpg')}"
					type="image/jpeg">
			<img src="{f:uri.image(image:image, width:'970', fileExtension: 'jpg')}"
				 alt="{file.originalResource.alternative}"
				 class="picture__image image--responsive"
				 loading="lazy"/>
		</picture>
		<f:if condition="{image.properties.copyright}">
			<f:render partial="Copyright" arguments="{text: image.properties.copyright}" />
		</f:if>
	</div>
	<f:if condition="{image.properties.description}">
		<figcaption class="picture__caption">
			{image.properties.description}
		</figcaption>
	</f:if>
</figure>

</html>
