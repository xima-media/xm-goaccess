<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
{namespace xm=Xima\XmDkfzNetSite\ViewHelpers}
<f:layout name="Default"/>
<f:section name="Header">

</f:section>

<f:section name="Main">

	<div class="twitter">

		<h3 class="h5">
			<f:render partial="Icon" arguments="{icon:'twitter', width: 28, height: 28}"/>
			<span>DKFZ auf Twitter</span>
		</h3>

		<div class="twitter__wall">
			<f:for each="{tweets}" as="tweet">
				<div class="twitter__tweet">
					<a class="twitter__profile"
					   target="_blank"
					   rel="noopener"
					   href="https://twitter.com/{tweet.username}"
					   title="{tweet.name}">
						<picture>
							<source srcset="{f:uri.image(image: tweet.profileImage, width:48, fileExtension: 'webp')}"
									type="image/webp">
							<source srcset="{f:uri.image(image: tweet.profileImage, width:48, fileExtension: 'jpg')}"
									type="image/jpeg">
							<f:image loading="lazy"
									 width="48"
									 fileExtension="webp"
									 alt="Profile image"
									 image="{tweet.profileImage}"/>
						</picture>
					</a>
					<div>
						<div class="twitter__header">
							<div class="twitter__usernames">
								<p class="text-small m-b-0"><strong>{tweet.name}</strong></p>
								<p class="text-small m-b-05">
									<a target="_blank"
									   rel="noopener"
									   href="https://twitter.com/{tweet.username}"
									   title="{tweet.name}">
										@{tweet.username}
									</a>
								</p>
							</div>
							<p class="text-small twitter__date">
								<a target="_blank"
								   href="https://twitter.com/{tweet.username}/status/{tweet.id}"
								   rel="noopener"
								   title="Open tweet">
									{tweet.date->f:format.date(format: 'd.m.y')}
								</a>
							</p>
						</div>
						<p class="m-b-05">{tweet.textAsHtml->f:format.raw()}</p>
						<f:if condition="{tweet.attachments}">
							<div class="twitter__images">
								<f:for each="{tweet.attachments}" as="image">
									<a target="_blank"
									   rel="noopener"
									   href="https://twitter.com/{tweet.username}/status/{tweet.id}"
									   title="Open tweet">
										<f:image alt="Twitter Image" width="200" maxHeight="200" image="{image}"/>
									</a>
								</f:for>
							</div>
						</f:if>
					</div>
				</div>
			</f:for>
		</div>
	</div>
</f:section>
</html>
