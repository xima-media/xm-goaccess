<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
	  xmlns:n="http://typo3.org/ns/GeorgRinger/News/ViewHelpers"
	  xmlns:rx="http://typo3.org/ns/Reelworx/RxShariff/ViewHelper"
	  data-namespace-typo3-fluid="true">


<f:if condition="{newsItem}">

	<f:if condition="{newsItem.pid}!=141">
		<f:variable name="shortNews" value="shortNews image-orient--18"></f:variable>
	</f:if>

	<div class="hero">
		<h1 itemprop="headline" class="hero__title">{newsItem.title}</h1>

		<p class="hero__info">
			<time itemprop="datePublished" datetime="{f:format.date(date:newsItem.datetime, format:'Y-m-d')}">
				<f:format.date format="%d. %B %Y">{newsItem.datetime}</f:format.date>
			</time>
			<f:if condition="{newsItem.firstCategory}">
				| {newsItem.firstCategory.title}
			</f:if>
		</p>

		<button type="button"
				class="button button--primary"
				data-bookmark-url="{f:uri.action(action: 'bookmark', pageUid: '1', controller: 'Api', extensionName: 'BwGuild', pluginName: 'Api', pageType: 1657523819, pageUid: 2, arguments: {tableName: 'tx_news_domain_model_news', recordUid: newsItem.uid})}">
			<span data-onload>
				<f:render partial="Icon" arguments="{icon: 'bookmark-add'}"/>
				<f:translate key="LLL:EXT:xm_dkfz_net_site/Resources/Private/Language/locallang.xlf:page.bookmark"/>
			</span>
			<span data-checked>
				<f:render partial="Icon" arguments="{icon: 'bookmark-delete'}"/>
				<f:translate key="LLL:EXT:xm_dkfz_net_site/Resources/Private/Language/locallang.xlf:page.bookmark.remove"/>
			</span>
		</button>
	</div>

	<div class="news-content news-content--{shortNews} content-wrapper__content-text color-accent--{newsItem.tx_xmdkfznetsite_color}">

		<div class="content-wrapper__content-image">
			<f:if condition="{newsItem.mediaNonPreviews.0}">
				<f:render partial="Image" arguments="{image: newsItem.mediaNonPreviews.0}"/>
			</f:if>
		</div>

		<div>

			<f:if condition="{newsItem.teaser}">
				<p class="h4 news-intro text-intro" itemprop="description">{newsItem.teaser}</p>
			</f:if>

			<div class="news-text-wrap" itemprop="articleBody">
				<f:format.html>{newsItem.bodytext}</f:format.html>
			</div>

			<f:if condition="{newsItem.mediaNonPreviews.1}">
				<div class="image-slider" data-current="1">

					<button class="prev" aria-label="zurÃ¼ck">
						<f:render partial="Icon" arguments="{icon: 'chevron-left'}"/>
					</button>

					<button class="next" aria-label="Vor">
						<f:render partial="Icon" arguments="{icon: 'chevron-right'}"/>
					</button>

					<div class="image-slider__images">
						<div class="image-slider__wrapper">
							<f:for as="image" iteration="i" each="{newsItem.mediaNonPreviews}">
								<f:if condition="!{i.isFirst}">
									<div class="image-slider__item {f:if(condition: '{i.index} === 1', then: 'current')}"
										 data-item="{i.index}">
										<picture>
											<source srcset="{f:uri.image(image:image, width:970, cropVariant: cropVariant, fileExtension: 'webp')}"
													type="image/webp">
											<source srcset="{f:uri.image(image:image, width:970, cropVariant: cropVariant, fileExtension: 'jpg')}"
													type="image/jpeg">
											<f:image image="{image}"
													 width="970"
													 cropVariant="{cropVariant}"
													 fileExtension="jpg"
													 class=""
													 loading="lazy"/>
										</picture>
									</div>
								</f:if>
							</f:for>
						</div>
					</div>
				</div>
			</f:if>

		</div>
	</div>

	<f:if condition="{newsItem.contentElements}">
		<f:cObject typoscriptObjectPath="lib.tx_news.contentElementRendering">{newsItem.contentElementIdList}
		</f:cObject>
	</f:if>

</f:if>

</html>
