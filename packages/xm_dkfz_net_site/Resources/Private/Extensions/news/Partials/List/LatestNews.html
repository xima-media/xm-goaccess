<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
	  xmlns:n="http://typo3.org/ns/GeorgRinger/News/ViewHelpers"
	  data-namespace-typo3-fluid="true">

<div class="row">
	<f:for each="{news}" as="newsItem" iteration="i">
		<div class="col-md-6">
			<n:excludeDisplayedNews newsItem="{newsItem}"/>
			<f:render section="NewsItem" arguments="{newsItem: newsItem, i: i}"/>
		</div>
	</f:for>
</div>

<f:section name="NewsItem">

	<div class="card color-accent--{newsItem.txXmdkfznetsiteColor}">

		<n:link newsItem="{newsItem}"
				settings="{settings}"
				class="card__link card__link--hidden"
				title="{newsItem.title}">
			<f:translate key="more-link"/>
		</n:link>

		<div class="card__image">
			<figure class="picture picture--with-image picture--with-color picture--orientation-md-">
				<div class="picture__item color-accent--yellow">
					<f:for each="{newsItem.falMedia}" as="file" iteration="i">
						<f:if condition="{i.isFirst}">
							<picture>
								<source srcset="{f:uri.image(image:file, width:'285', fileExtension: 'webp', cropVariant: 'preview')}"
										type="image/webp">
								<source srcset="{f:uri.image(image:file, width:'285', fileExtension: 'jpg', cropVariant: 'preview')}"
										type="image/jpeg">
								<img src="{f:uri.image(image:file, width:'285', fileExtension: 'jpg', cropVariant: 'preview')}"
									 alt="{file.originalResource.alternative}"
									 class="picture__image image--responsive"
									 loading="lazy"/>
							</picture>
						</f:if>
					</f:for>
				</div>
			</figure>
		</div>

		<div class="card__content">
			<div class="card__header">
				<p>
					<f:format.date format="{f:translate(key:'dateFormat')}">{newsItem.datetime}</f:format.date>
					|
					<f:if condition="{newsItem.firstCategory}">
						{newsItem.firstCategory.title}
					</f:if>
				</p>
				<h3 class="card__title h5">{newsItem.title}</h3>
			</div>
		</div>

	</div>
</f:section>

</html>
