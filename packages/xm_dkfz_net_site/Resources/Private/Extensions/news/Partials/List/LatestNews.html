<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
	  xmlns:n="http://typo3.org/ns/GeorgRinger/News/ViewHelpers"
	  data-namespace-typo3-fluid="true">

<div class="news-latest" data-news-limit="{settings.limit}">
	<f:for each="{news}" as="newsItem" iteration="i">
		<div class="news-latest__item">
			<n:excludeDisplayedNews newsItem="{newsItem}"/>
			<f:render section="NewsItem" arguments="{newsItem: newsItem, i: i}"/>
		</div>
	</f:for>
</div>

<f:section name="NewsItem">

	<div class="color-accent--{newsItem.txXmdkfznetsiteColor}">

		<n:link newsItem="{newsItem}" settings="{settings}" title="{newsItem.title}">


			<div class="m-b-1">
				<f:for each="{newsItem.falMedia}" as="file" iteration="i">
					<f:if condition="{i.isFirst}">
						<f:render partial="Image"
								  arguments="{image: file, patternSize: 'sm', patternStyle: 'color', noCaption: 1}"/>
					</f:if>
				</f:for>
			</div>

			<p class="text-small m-b-05">
				<f:format.date format="%d. %B %Y">{newsItem.datetime}</f:format.date>
				<f:if condition="{newsItem.firstCategory}">
					<span class="vertical-spacer">|</span> {newsItem.firstCategory.title}
				</f:if>
			</p>
			<h3 class="h5">{newsItem.title}</h3>

		</n:link>
	</div>
</f:section>

</html>
