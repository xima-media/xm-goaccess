{namespace xm=Xima\XmDkfzNetSite\ViewHelpers}
<f:variable name="cssVariables">
	<f:for each="{files}" as="file" iteration="i">
		<f:variable name="index">{f:if(condition: i.isFirst, else:'{i.index}-')}</f:variable>
		--background-image-{index}webp: url({f:uri.image(image: file, width: 992, fileExtension: 'webp')});
		--background-image-{index}webp-xl: url({f:uri.image(image: file, width: 2500, fileExtension: 'webp')});
	</f:for>
</f:variable>

<f:render partial="Notice" arguments="{_all}" />

<main class="login background--image-hero" style="{cssVariables}">

	<div class="login__blur">

		<f:link.page class="logo" pageUid="1">
			<xm:svgInline class="logo__image" src="EXT:xm_dkfz_net_site/Resources/Public/Images/dkfz_logo.svg" />
		</f:link.page>

		<div class="box">
			<h1 class="h5">{f:translate(key: 'login.headline', extensionName: 'XmDkfzNetSite')}</h1>
			<f:variable name="loginProvider" value="xima"/>
			<f:if condition="{baseUrl} == 'https://intranetstage.dkfz.de' || {baseUrl} == 'https://intranet2.dkfz.de' || {baseUrl} == 'https://intranet.dkfz.de'">
				<f:variable name="loginProvider" value="dkfz" />
			</f:if>
			<f:variable name="homepageUrl">{f:uri.page(pageUid: '1', absolute: 1)}</f:variable>
			<f:link.page id="login-link"
						 pageUid="1"
						 additionalParams="{oauth2-provider: loginProvider, logintype: 'login', after-oauth2-redirect-uri: '{homepageUrl}#action-logged-in'}"
						 title="Login"
						 class="button button--primary "
						 additionalAttributes="{role: 'button'}"
						 aria="{pressed: ariaPressed}">
				{f:translate(key: 'login.button', extensionName: 'XmDkfzNetSite')}
			</f:link.page>
		</div>

		<f:render partial="Footer" arguments="{_all}" />

	</div>

</main>
