<h1>Request log</h1>

<f:form object="{demand}" class="demand-form">
	<div class="d-flex flex-row gap-4 mb-3">
		<div class="form-check form-switch">
			<f:form.checkbox class="form-check-input" name="showIgnored" property="showIgnored" value="1" id="displayIgnored"/>
			<label class="form-check-label" for="displayIgnored"> Show ignored paths</label></div>

		<div class="form-check form-switch">
			<f:form.checkbox class="form-check-input" name="showPages" property="showPages" value="1" id="displayPages"/>
			<label class="form-check-label" for="displayPages"> Show page mappings</label>
		</div>

		<div class="form-check form-switch">
			<f:form.checkbox class="form-check-input" name="showActions" property="showActions" value="1" id="displayActions"/>
			<label class="form-check-label" for="displayActions">Show action mappings </label>
		</div>
	</div>
</f:form>

<table data-table="requests" class="table table-striped table-hover mb-0">
	<thead>
	<tr data-uid="0" data-l10nparent="0">
		<th>Besucher</th>
		<th>Anfragen</th>
		<th>
			<a href="/typo3/module/web/list?token=9a9d06883dbbc9c70c22652dd4fcef30bbd71034&amp;id=8&amp;table=tt_content&amp;sortField=header&amp;sortRev=0">
				Path
			</a>
		</th>
		<th>Mappings</th>
	</tr>
	</thead>
	<tbody data-multi-record-selection-row-selection="true">
	<f:for each="{requests}" as="request">
		<tr class="t3js-entity" data-table="tt_content" title="id=382" data-uid="382" data-l10nparent="0">
			<td>{request.visitors}</td>
			<td>{request.hits}</td>
			<td>{request.path}</td>
			<td class="nowrap">
				<f:for each="{request.mappings}" as="mapping">
					<f:if condition="{mapping.iconMarkup}">
						{mapping.iconMarkup->f:format.raw()}
					</f:if>
					<f:if condition="{mapping.pagePath}">
						<f:be.link route="web_layout" parameters="{id: mapping.page}">
							{mapping.pagePath}
						</f:be.link>
					</f:if>
				</f:for>
			</td>
		</tr>
	</f:for>
	</tbody>
</table>