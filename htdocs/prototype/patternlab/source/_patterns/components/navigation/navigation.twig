<!-- Component Start: navigation -->

<nav class="navigation navigation--main" aria-label="Hauptnavigation">
    <button class="navigation__button fx--toggle" type="button" aria-expanded="false" aria-controls="navigation__items--main">|||</button>
    <ul id="navigation__items--main" class="navigation__items fx--first">
        {% for mainLink in prototype.navigation.main %}
            <li class="navigation__item fx--first">
                <a class="navigation__link fx--first" href="{{ mainLink.url }}">{{ mainLink.text }}</a>
                {% if mainLink.sub %}
                    <ul class="navigation__items fx--second {{ mainLink.colorClass }}">
                        {% set foo = true %} {# @todo umbennen #}
                        {% for subLink in mainLink.sub %}
                            {% if subLink.sub %}
                                {% if not foo %}
                                    </ul></li>
                                    {% set foo = true %}
                                {% endif %}
                                <li class="navigation__item fx--second">
                                    <a class="navigation__link fx--second" href="{{ subLink.url }}">{{ subLink.text }}</a>
                                    {% if subLink.sub %}
                                        <ul class="navigation__items fx--third">
                                            {% for subSubLink in subLink.sub %}
                                                <li class="navigation__item fx--third">
                                                    <a class="navigation__link fx--third" href="{{ subSubLink.url }}">{{ subSubLink.text }}</a>
                                                </li>
                                            {% endfor %}
                                        </ul>
                                    {% endif %}
                                </li>
                            {% else %}
                                {% if foo %}
                                    <li class="navigation__item fx--row"><ul class="navigation__items fx--row">
                                    {% set foo = false %}
                                {% endif %}

                                <li class="navigation__item fx--second">
                                    <a class="navigation__link fx--second" href="{{ subLink.url }}">{{ subLink.text }}</a>
                                </li>

                                {% if loop.last %}
                                    </ul></li>
                                    {% set foo = true %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </ul>
                {% endif %}
            </li>
        {% endfor %}
    </ul>
</nav>

<!-- Components End: navigation -->
