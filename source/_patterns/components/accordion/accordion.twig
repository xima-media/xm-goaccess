<!-- Component Start: accordion -->

{% set accordionId = random() %}

{% for accordion in prototype.accordion %}
<div class="accordion {{ accordion.type ? 'accordion--' ~ accordion.type : '' }}">
    <ol class="accordion__items">
        <li>
            <h2 class="accordion__items--title h5">{{ accordion.title }}</h2>
            <ol id="accordion{{ accordionId }}" class="accordion__item">
                {% for accordionItem in accordion.item %}
                    {% set accordionItemId = random() %}
                <li>
                    <h3 id="accordionItem{{ accordionItemId }}" class="accordion__items--subtitle">
                    <button class="accordion-button collapsed"
                            type="button"
                            aria-expanded="false"
                            data-bs-toggle="collapse"
                            data-bs-target="#accordionSection{{ accordionItemId }}"
                            aria-controls="accordionSection{{ accordionItemId }}">

                            <span class="accordion-button--description h6">
                                {{ accordionItem.title }}
                            </span>
                    </button>
                    </h3>

                    <div class="accordion-collapse collapse"
                         id="accordionSection{{ accordionItemId }}"
                         data-bs-parent="#accordion{{ accordionId }}"
                         aria-labelledby="accordionItem{{ accordionItemId }}">
                        <div class="accordion-body accordion__panel background--expanded">
                            <p class="text-copy-standard spacing--bottom">
                                {{ accordionItem.text }}
                            </p>

                            <div class="spacing--bottom">
                                {#  Kontakt ohne Bild #}
                                <h4 class="h5">Kontakt</h4>
                                <p class="text-copy-small">ITCF (Informationstechnologie Core Facility)</p>
                                <p class="text-copy-small">
                                    <a href="tel:+49 6221-42-4241" class="icon icon--phone">+49 6221-42-4241</a>
                                </p>
                                <p class="text-copy-small">
                                    <a href="mailto:itservice@dkfz.de" class="icon icon--mail">itservice@dkfz.de</a>
                                </p>
                            </div>

                            {# Ansprechpartner #}
                            {% for item in prototype.contacts %}
                                {% include '@components/contact/contact.twig' with {
                                    title: item.title,
                                    subTitle: item.subTitle,
                                    items: item.items,
                                    subTitleImage: item.subTitleImage,
                                    link: {
                                        url: item.link.url,
                                        text: item.link.text
                                    },
                                    image: {
                                        src: item.image.src,
                                        alt: item.image.alt,
                                        size: item.image.size,
                                        color: item.image.color
                                    }
                                } only %}
                            {% endfor %}

                            <div class="spacing--bottom">
                                <h5 class="text--bold">Weiterführende Informationen im DKFZ Wiki</h5>
                                <p class="text-copy-standard">
                                    <a href="#" class="icon icon--arrow-right--tilted link--primary">Informationen zur Durchführung von Videokonferenzen</a>
                                </p>
                                <p class="text-copy-standard">
                                    Falls Sie darüber hinaus eine Lösung für eine umfassende digitale Konferenz-Plattform (inkl. Breakout-Session Räume, Interaktive Poster Presentationen, etc.) benötigen, so senden Sie bitte eine Mail an
                                    <a href="mailto:events-vorstand@dkfz.de">events-vorstand@dkfz.de</a>. Derzeit testen wir an Pilotprojekten Expertenlösungen von verschiedenen Anbietern.
                                </p>
                            </div>


                            {% for info in prototype.infoBox %}
                                {% include '@components/infobox/infobox.twig' with {
                                    color: info.color,
                                    background: info.background,
                                    border: info.border,
                                    title: info.title,
                                    text: info.text,
                                    links: info.links
                                } only %}
                            {% endfor %}

                            <div class="spacing--bottom">
                                {# Document #}
                                {% for tab in prototype.accordionTabs %}
                                    {% include '@components/tabs/tab--item.twig' with {
                                        title: tab.title,
                                        tabItem: tab.item
                                    } only %}
                                {% endfor %}
                            </div>

                            <div class="spacing--bottom">
                            {# Bild-Text-Elemente #}
                            {% embed '@components/content-wrapper/content-wrapper.twig' with {
                                title: prototype.pictureText.title,
                                titleSize: prototype.pictureText.titleSize,
                                positionDistance: prototype.pictureText.positionDistance,

                            } %}
                                 {% block content %}
                                     <div class="content-wrapper__picture">
                                         {% for item in prototype.pictureText.items %}
                                             <div class="content-wrapper__picture-position-{{ item.imagePosition|default('left') }}"
                                                 {% include '@components/image/image.twig' with {
                                                     src: item.image.src,
                                                     alt: item.image.alt,
                                                     position: item.image.position,
                                                     orientation: item.image.orientation,
                                                     size: item.image.size,
                                                     patternColor: item.image.patternColor,
                                                     copyright: item.image.copyright,
                                                     caption: item.image.caption
                                                 } only %}

                                                 <div class="content-wrapper__picture --content">
                                                     <h3 class="--title">{{ item.title }}</h3>
                                                     <p class="--text">
                                                         {{ item.text }}
                                                     </p>
                                                 </div>
                                             </div>
                                         {% endfor %}
                                     </div>

                                 {% endblock content %}
                            {% endembed %}


                            {% for item in prototype.pictureSize %}
                                {% include '@components/card/card.twig' with {
                                    title: item.title,
                                    text: item.text,
                                    type: item.type,
                                    image: {
                                        src: item.image.src,
                                        alt: item.image.alt,
                                        position: item.image.position,
                                        orientation: item.image.orientation,
                                        size: item.image.size,
                                        patternColor: item.image.patternColor,
                                        copyright: item.image.copyright,
                                        caption: item.image.caption
                                    }
                                } only %}
                            {% endfor %}
                        </div>

                        <div class="layout__item">
                            {# Tabellen #}
                            {% embed '@components/content-wrapper/content-wrapper.twig' with {
                                title: "Tabellen",
                                titleSize: prototype.pictureText.titleSize,
                                positionDistance: "left"
                            } %}
                                {% block content %}
                                    <div class="content-wrapper--md">
                                        {% include '@components/table/table.twig' %}
                                    </div>
                                {% endblock content %}
                            {% endembed %}
                        </div>
                    </div>
                </li>
                {% endfor %}
            </ol>
        </li>
    </ol>
</div>
{% endfor %}


<!-- Components End: accordion -->
